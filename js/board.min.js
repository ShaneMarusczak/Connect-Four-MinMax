function Board(game,field,player){this.game=game,this.field=field,this.player=player}Board.prototype.isFinished=function(depth,score){return!(0!=depth&&score!=this.game.score&&score!=-this.game.score&&!this.isFull())},Board.prototype.place=function(column){if(null==this.field[0][column]&&column>=0&&column<this.game.columns){for(var y=this.game.rows-1;y>=0;y--)if(null==this.field[y][column]){this.field[y][column]=this.player;break}return this.player=this.game.switchRound(this.player),!0}return!1},Board.prototype.scorePosition=function(row,column,delta_y,delta_x){var human_points=0,computer_points=0;this.game.winning_array_human=[],this.game.winning_array_cpu=[];for(var i=0;i<4;i++)0==this.field[row][column]?(this.game.winning_array_human.push([row,column]),human_points++):1==this.field[row][column]&&(this.game.winning_array_cpu.push([row,column]),computer_points++),row+=delta_y,column+=delta_x;return 4==human_points?(this.game.winning_array=this.game.winning_array_human,-this.game.score):4==computer_points?(this.game.winning_array=this.game.winning_array_cpu,this.game.score):computer_points},Board.prototype.score=function(){for(var points=0,vertical_points=0,horizontal_points=0,diagonal_points1=0,diagonal_points2=0,row=0;row<this.game.rows-3;row++)for(var column=0;column<this.game.columns;column++){var score;if((score=this.scorePosition(row,column,1,0))==this.game.score)return this.game.score;if(score==-this.game.score)return-this.game.score;vertical_points+=score}for(var row=0;row<this.game.rows;row++)for(var column=0;column<this.game.columns-3;column++){var score;if((score=this.scorePosition(row,column,0,1))==this.game.score)return this.game.score;if(score==-this.game.score)return-this.game.score;horizontal_points+=score}for(var row=0;row<this.game.rows-3;row++)for(var column=0;column<this.game.columns-3;column++){var score;if((score=this.scorePosition(row,column,1,1))==this.game.score)return this.game.score;if(score==-this.game.score)return-this.game.score;diagonal_points1+=score}for(var row=3;row<this.game.rows;row++)for(var column=0;column<=this.game.columns-4;column++){var score;if((score=this.scorePosition(row,column,-1,1))==this.game.score)return this.game.score;if(score==-this.game.score)return-this.game.score;diagonal_points2+=score}return points=horizontal_points+vertical_points+diagonal_points1+diagonal_points2},Board.prototype.isFull=function(){for(var i=0;i<this.game.columns;i++)if(null==this.field[0][i])return!1;return!0},Board.prototype.copy=function(){for(var new_board=new Array,i=0;i<this.field.length;i++)new_board.push(this.field[i].slice());return new Board(this.game,new_board,this.player)};